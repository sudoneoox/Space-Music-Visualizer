{"id":"c93v","dependencies":[{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\package.json","includedInParent":true,"mtime":1624398373526},{"name":"web-audio-beat-detector","loc":{"line":1,"column":24},"parent":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\src\\AudioManager.js","resolved":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\web-audio-beat-detector\\build\\es2019\\module.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=t;var e=require(\"web-audio-beat-detector\");function o(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function t(){var t,u=(o(t={paused:!1,audioStartOffset:0,audioStartTime:0,audioBuffer:void 0,cameraPaused:!1,automaticSwitchingOn:!0,songBPM:null},\"audioBuffer\",null),o(t,\"audioAnalyser\",null),o(t,\"audioContext\",null),o(t,\"audioSourceBuffer\",null),o(t,\"songBPM\",null),o(t,\"fftSize\",null),o(t,\"smoothingTimeCnstant\",null),t);return u.audioContext=new(window.AudioContext||window.webkitAudioContext),u.audioAnalyser=u.audioContext.createAnalyser(),u.smoothingTimeCnstant=.3,u.fftSize=1024,u.audioSourceBuffer=u.audioContext.createBufferSource(),u.audioSourceBuffer.connect(u.audioAnalyser),u.audioAnalyser.connect(u.audioContext.destination),document.getElementById(\"filemp3\").addEventListener(\"change\",function(o){!function(o){var t=new FileReader;u.audioSourceBuffer=u.audioContext.createBufferSource(),u.audioSourceBuffer.connect(u.audioAnalyser),u.audioAnalyser.connect(u.audioContext.destination),t.onload=function(o){var t=o.target.result;console.log(t),u.audioContext.decodeAudioData(t,function(o){u.audioSourceBuffer.buffer=o,u.audioBuffer=o,u.audioSourceBuffer.start(),u.audioSourceBuffer.loop=!0,console.log(u),(0,e.analyze)(u.audioSourceBuffer.buffer).then(function(e){u.songBPM=e}).catch(function(e){console.log(\"couldn't detect BPM\")})},function(e){e.err})},t.readAsArrayBuffer(o);var n=document.querySelector(\"#top\");n.innerHTML=\"Press H for even more fun!\",document.querySelector(\"#filemp3\").style.visibility=\"hidden\",n.style.top=\"96.5%\"}(o.target.files[0])},!1),u}"},"sourceMaps":{"js":{"mappings":[{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":0}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":13}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":20}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":35}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":43}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":56}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":57}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":64}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":68}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":76}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":84}},{"source":"src/AudioManager.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"src/AudioManager.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"src/AudioManager.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"src/AudioManager.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":127}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":136}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":138}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":140}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":142}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":145}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":152}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":157}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":159}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":166}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":181}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":183}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":185}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":186}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":192}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":194}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":206}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":208}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":222}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":224}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":234}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":238}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":240}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":243}},{"source":"src/AudioManager.js","original":{"line":76,"column":1},"generated":{"line":1,"column":245}},{"source":"src/AudioManager.js","original":{"line":2,"column":15},"generated":{"line":1,"column":247}},{"source":"src/AudioManager.js","name":"AudioManager","original":{"line":2,"column":24},"generated":{"line":1,"column":256}},{"source":"src/AudioManager.js","original":{"line":3,"column":0},"generated":{"line":1,"column":260}},{"source":"src/AudioManager.js","original":{"line":3,"column":0},"generated":{"line":1,"column":264}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":4,"column":10},"generated":{"line":1,"column":266}},{"source":"src/AudioManager.js","original":{"line":12,"column":21},"generated":{"line":1,"column":269}},{"source":"src/AudioManager.js","original":{"line":4,"column":22},"generated":{"line":1,"column":271}},{"source":"src/AudioManager.js","original":{"line":4,"column":22},"generated":{"line":1,"column":273}},{"source":"src/AudioManager.js","name":"paused","original":{"line":5,"column":8},"generated":{"line":1,"column":274}},{"source":"src/AudioManager.js","original":{"line":5,"column":16},"generated":{"line":1,"column":282}},{"source":"src/AudioManager.js","name":"audioStartOffset","original":{"line":6,"column":8},"generated":{"line":1,"column":284}},{"source":"src/AudioManager.js","original":{"line":6,"column":26},"generated":{"line":1,"column":301}},{"source":"src/AudioManager.js","name":"audioStartTime","original":{"line":7,"column":8},"generated":{"line":1,"column":303}},{"source":"src/AudioManager.js","original":{"line":7,"column":24},"generated":{"line":1,"column":318}},{"source":"src/AudioManager.js","name":"audioBuffer","original":{"line":8,"column":8},"generated":{"line":1,"column":320}},{"source":"src/AudioManager.js","name":"undefined","original":{"line":8,"column":21},"generated":{"line":1,"column":337}},{"source":"src/AudioManager.js","name":"cameraPaused","original":{"line":9,"column":8},"generated":{"line":1,"column":339}},{"source":"src/AudioManager.js","original":{"line":9,"column":22},"generated":{"line":1,"column":353}},{"source":"src/AudioManager.js","name":"automaticSwitchingOn","original":{"line":10,"column":8},"generated":{"line":1,"column":355}},{"source":"src/AudioManager.js","original":{"line":10,"column":30},"generated":{"line":1,"column":377}},{"source":"src/AudioManager.js","name":"songBPM","original":{"line":11,"column":8},"generated":{"line":1,"column":379}},{"source":"src/AudioManager.js","original":{"line":11,"column":17},"generated":{"line":1,"column":387}},{"source":"src/AudioManager.js","original":{"line":12,"column":21},"generated":{"line":1,"column":393}},{"source":"src/AudioManager.js","original":{"line":12,"column":21},"generated":{"line":1,"column":407}},{"source":"src/AudioManager.js","original":{"line":13,"column":23},"generated":{"line":1,"column":413}},{"source":"src/AudioManager.js","original":{"line":13,"column":23},"generated":{"line":1,"column":415}},{"source":"src/AudioManager.js","original":{"line":13,"column":23},"generated":{"line":1,"column":417}},{"source":"src/AudioManager.js","original":{"line":13,"column":23},"generated":{"line":1,"column":433}},{"source":"src/AudioManager.js","original":{"line":14,"column":22},"generated":{"line":1,"column":439}},{"source":"src/AudioManager.js","original":{"line":14,"column":22},"generated":{"line":1,"column":441}},{"source":"src/AudioManager.js","original":{"line":14,"column":22},"generated":{"line":1,"column":443}},{"source":"src/AudioManager.js","original":{"line":14,"column":22},"generated":{"line":1,"column":458}},{"source":"src/AudioManager.js","original":{"line":15,"column":27},"generated":{"line":1,"column":464}},{"source":"src/AudioManager.js","original":{"line":15,"column":27},"generated":{"line":1,"column":466}},{"source":"src/AudioManager.js","original":{"line":15,"column":27},"generated":{"line":1,"column":468}},{"source":"src/AudioManager.js","original":{"line":15,"column":27},"generated":{"line":1,"column":488}},{"source":"src/AudioManager.js","original":{"line":16,"column":17},"generated":{"line":1,"column":494}},{"source":"src/AudioManager.js","original":{"line":16,"column":17},"generated":{"line":1,"column":496}},{"source":"src/AudioManager.js","original":{"line":16,"column":17},"generated":{"line":1,"column":498}},{"source":"src/AudioManager.js","original":{"line":16,"column":17},"generated":{"line":1,"column":508}},{"source":"src/AudioManager.js","original":{"line":17,"column":17},"generated":{"line":1,"column":514}},{"source":"src/AudioManager.js","original":{"line":17,"column":17},"generated":{"line":1,"column":516}},{"source":"src/AudioManager.js","original":{"line":17,"column":17},"generated":{"line":1,"column":518}},{"source":"src/AudioManager.js","original":{"line":17,"column":17},"generated":{"line":1,"column":528}},{"source":"src/AudioManager.js","original":{"line":18,"column":30},"generated":{"line":1,"column":534}},{"source":"src/AudioManager.js","original":{"line":18,"column":30},"generated":{"line":1,"column":536}},{"source":"src/AudioManager.js","original":{"line":18,"column":30},"generated":{"line":1,"column":538}},{"source":"src/AudioManager.js","original":{"line":18,"column":30},"generated":{"line":1,"column":561}},{"source":"src/AudioManager.js","original":{"line":4,"column":4},"generated":{"line":1,"column":567}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":75,"column":11},"generated":{"line":1,"column":570}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":21,"column":4},"generated":{"line":1,"column":577}},{"source":"src/AudioManager.js","name":"audioContext","original":{"line":21,"column":17},"generated":{"line":1,"column":579}},{"source":"src/AudioManager.js","original":{"line":21,"column":32},"generated":{"line":1,"column":592}},{"source":"src/AudioManager.js","name":"window","original":{"line":21,"column":37},"generated":{"line":1,"column":596}},{"source":"src/AudioManager.js","name":"AudioContext","original":{"line":21,"column":44},"generated":{"line":1,"column":603}},{"source":"src/AudioManager.js","name":"window","original":{"line":21,"column":60},"generated":{"line":1,"column":617}},{"source":"src/AudioManager.js","name":"webkitAudioContext","original":{"line":21,"column":67},"generated":{"line":1,"column":624}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":22,"column":4},"generated":{"line":1,"column":644}},{"source":"src/AudioManager.js","name":"audioAnalyser","original":{"line":22,"column":17},"generated":{"line":1,"column":646}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":22,"column":33},"generated":{"line":1,"column":660}},{"source":"src/AudioManager.js","name":"audioContext","original":{"line":22,"column":46},"generated":{"line":1,"column":662}},{"source":"src/AudioManager.js","name":"createAnalyser","original":{"line":22,"column":59},"generated":{"line":1,"column":675}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":23,"column":4},"generated":{"line":1,"column":692}},{"source":"src/AudioManager.js","name":"smoothingTimeCnstant","original":{"line":23,"column":17},"generated":{"line":1,"column":694}},{"source":"src/AudioManager.js","original":{"line":23,"column":40},"generated":{"line":1,"column":715}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":24,"column":4},"generated":{"line":1,"column":718}},{"source":"src/AudioManager.js","name":"fftSize","original":{"line":24,"column":17},"generated":{"line":1,"column":720}},{"source":"src/AudioManager.js","original":{"line":24,"column":27},"generated":{"line":1,"column":728}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":25,"column":4},"generated":{"line":1,"column":733}},{"source":"src/AudioManager.js","name":"audioSourceBuffer","original":{"line":25,"column":17},"generated":{"line":1,"column":735}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":25,"column":37},"generated":{"line":1,"column":753}},{"source":"src/AudioManager.js","name":"audioContext","original":{"line":25,"column":50},"generated":{"line":1,"column":755}},{"source":"src/AudioManager.js","name":"createBufferSource","original":{"line":25,"column":63},"generated":{"line":1,"column":768}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":26,"column":4},"generated":{"line":1,"column":789}},{"source":"src/AudioManager.js","name":"audioSourceBuffer","original":{"line":26,"column":17},"generated":{"line":1,"column":791}},{"source":"src/AudioManager.js","name":"connect","original":{"line":26,"column":35},"generated":{"line":1,"column":809}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":26,"column":44},"generated":{"line":1,"column":817}},{"source":"src/AudioManager.js","name":"audioAnalyser","original":{"line":26,"column":57},"generated":{"line":1,"column":819}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":27,"column":4},"generated":{"line":1,"column":834}},{"source":"src/AudioManager.js","name":"audioAnalyser","original":{"line":27,"column":17},"generated":{"line":1,"column":836}},{"source":"src/AudioManager.js","name":"connect","original":{"line":27,"column":31},"generated":{"line":1,"column":850}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":27,"column":40},"generated":{"line":1,"column":858}},{"source":"src/AudioManager.js","name":"audioContext","original":{"line":27,"column":53},"generated":{"line":1,"column":860}},{"source":"src/AudioManager.js","name":"destination","original":{"line":27,"column":66},"generated":{"line":1,"column":873}},{"source":"src/AudioManager.js","name":"document","original":{"line":74,"column":4},"generated":{"line":1,"column":886}},{"source":"src/AudioManager.js","name":"getElementById","original":{"line":74,"column":13},"generated":{"line":1,"column":895}},{"source":"src/AudioManager.js","original":{"line":74,"column":29},"generated":{"line":1,"column":910}},{"source":"src/AudioManager.js","name":"addEventListener","original":{"line":74,"column":41},"generated":{"line":1,"column":921}},{"source":"src/AudioManager.js","original":{"line":74,"column":59},"generated":{"line":1,"column":938}},{"source":"src/AudioManager.js","name":"handleFileSelect","original":{"line":29,"column":13},"generated":{"line":1,"column":947}},{"source":"src/AudioManager.js","name":"evt","original":{"line":29,"column":31},"generated":{"line":1,"column":956}},{"source":"src/AudioManager.js","name":"playFile","original":{"line":35,"column":13},"generated":{"line":1,"column":960}},{"source":"src/AudioManager.js","name":"file","original":{"line":35,"column":23},"generated":{"line":1,"column":969}},{"source":"src/AudioManager.js","name":"freader","original":{"line":37,"column":12},"generated":{"line":1,"column":972}},{"source":"src/AudioManager.js","name":"freader","original":{"line":37,"column":12},"generated":{"line":1,"column":976}},{"source":"src/AudioManager.js","original":{"line":37,"column":22},"generated":{"line":1,"column":978}},{"source":"src/AudioManager.js","name":"FileReader","original":{"line":37,"column":26},"generated":{"line":1,"column":982}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":38,"column":8},"generated":{"line":1,"column":993}},{"source":"src/AudioManager.js","name":"audioSourceBuffer","original":{"line":38,"column":21},"generated":{"line":1,"column":995}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":38,"column":41},"generated":{"line":1,"column":1013}},{"source":"src/AudioManager.js","name":"audioContext","original":{"line":38,"column":54},"generated":{"line":1,"column":1015}},{"source":"src/AudioManager.js","name":"createBufferSource","original":{"line":38,"column":67},"generated":{"line":1,"column":1028}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":40,"column":8},"generated":{"line":1,"column":1049}},{"source":"src/AudioManager.js","name":"audioSourceBuffer","original":{"line":40,"column":21},"generated":{"line":1,"column":1051}},{"source":"src/AudioManager.js","name":"connect","original":{"line":40,"column":39},"generated":{"line":1,"column":1069}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":40,"column":48},"generated":{"line":1,"column":1077}},{"source":"src/AudioManager.js","name":"audioAnalyser","original":{"line":40,"column":61},"generated":{"line":1,"column":1079}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":41,"column":8},"generated":{"line":1,"column":1094}},{"source":"src/AudioManager.js","name":"audioAnalyser","original":{"line":41,"column":21},"generated":{"line":1,"column":1096}},{"source":"src/AudioManager.js","name":"connect","original":{"line":41,"column":35},"generated":{"line":1,"column":1110}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":41,"column":44},"generated":{"line":1,"column":1118}},{"source":"src/AudioManager.js","name":"audioContext","original":{"line":41,"column":57},"generated":{"line":1,"column":1120}},{"source":"src/AudioManager.js","name":"destination","original":{"line":41,"column":70},"generated":{"line":1,"column":1133}},{"source":"src/AudioManager.js","name":"freader","original":{"line":43,"column":8},"generated":{"line":1,"column":1146}},{"source":"src/AudioManager.js","name":"onload","original":{"line":43,"column":16},"generated":{"line":1,"column":1148}},{"source":"src/AudioManager.js","original":{"line":43,"column":25},"generated":{"line":1,"column":1155}},{"source":"src/AudioManager.js","name":"e","original":{"line":43,"column":35},"generated":{"line":1,"column":1164}},{"source":"src/AudioManager.js","name":"fileResult","original":{"line":45,"column":18},"generated":{"line":1,"column":1167}},{"source":"src/AudioManager.js","name":"fileResult","original":{"line":45,"column":18},"generated":{"line":1,"column":1171}},{"source":"src/AudioManager.js","name":"e","original":{"line":45,"column":31},"generated":{"line":1,"column":1173}},{"source":"src/AudioManager.js","name":"target","original":{"line":45,"column":33},"generated":{"line":1,"column":1175}},{"source":"src/AudioManager.js","name":"result","original":{"line":45,"column":40},"generated":{"line":1,"column":1182}},{"source":"src/AudioManager.js","name":"console","original":{"line":46,"column":12},"generated":{"line":1,"column":1189}},{"source":"src/AudioManager.js","name":"log","original":{"line":46,"column":20},"generated":{"line":1,"column":1197}},{"source":"src/AudioManager.js","name":"fileResult","original":{"line":46,"column":25},"generated":{"line":1,"column":1201}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":47,"column":12},"generated":{"line":1,"column":1204}},{"source":"src/AudioManager.js","name":"audioContext","original":{"line":47,"column":25},"generated":{"line":1,"column":1206}},{"source":"src/AudioManager.js","name":"decodeAudioData","original":{"line":47,"column":38},"generated":{"line":1,"column":1219}},{"source":"src/AudioManager.js","name":"fileResult","original":{"line":47,"column":55},"generated":{"line":1,"column":1235}},{"source":"src/AudioManager.js","original":{"line":47,"column":67},"generated":{"line":1,"column":1237}},{"source":"src/AudioManager.js","name":"buffer","original":{"line":47,"column":77},"generated":{"line":1,"column":1246}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":49,"column":16},"generated":{"line":1,"column":1249}},{"source":"src/AudioManager.js","name":"audioSourceBuffer","original":{"line":49,"column":29},"generated":{"line":1,"column":1251}},{"source":"src/AudioManager.js","name":"buffer","original":{"line":49,"column":47},"generated":{"line":1,"column":1269}},{"source":"src/AudioManager.js","name":"buffer","original":{"line":49,"column":56},"generated":{"line":1,"column":1276}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":50,"column":16},"generated":{"line":1,"column":1278}},{"source":"src/AudioManager.js","name":"audioBuffer","original":{"line":50,"column":29},"generated":{"line":1,"column":1280}},{"source":"src/AudioManager.js","name":"buffer","original":{"line":50,"column":43},"generated":{"line":1,"column":1292}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":51,"column":16},"generated":{"line":1,"column":1294}},{"source":"src/AudioManager.js","name":"audioSourceBuffer","original":{"line":51,"column":29},"generated":{"line":1,"column":1296}},{"source":"src/AudioManager.js","name":"start","original":{"line":51,"column":47},"generated":{"line":1,"column":1314}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":52,"column":16},"generated":{"line":1,"column":1322}},{"source":"src/AudioManager.js","name":"audioSourceBuffer","original":{"line":52,"column":29},"generated":{"line":1,"column":1324}},{"source":"src/AudioManager.js","name":"loop","original":{"line":52,"column":47},"generated":{"line":1,"column":1342}},{"source":"src/AudioManager.js","original":{"line":52,"column":54},"generated":{"line":1,"column":1348}},{"source":"src/AudioManager.js","name":"console","original":{"line":53,"column":16},"generated":{"line":1,"column":1350}},{"source":"src/AudioManager.js","name":"log","original":{"line":53,"column":24},"generated":{"line":1,"column":1358}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":53,"column":29},"generated":{"line":1,"column":1362}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":54,"column":25},"generated":{"line":1,"column":1366}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":54,"column":25},"generated":{"line":1,"column":1368}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":54,"column":25},"generated":{"line":1,"column":1370}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":54,"column":25},"generated":{"line":1,"column":1379}},{"source":"src/AudioManager.js","name":"audioSourceBuffer","original":{"line":54,"column":38},"generated":{"line":1,"column":1381}},{"source":"src/AudioManager.js","name":"buffer","original":{"line":54,"column":56},"generated":{"line":1,"column":1399}},{"source":"src/AudioManager.js","name":"then","original":{"line":54,"column":65},"generated":{"line":1,"column":1407}},{"source":"src/AudioManager.js","original":{"line":54,"column":71},"generated":{"line":1,"column":1412}},{"source":"src/AudioManager.js","name":"bpm","original":{"line":54,"column":73},"generated":{"line":1,"column":1421}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":57,"column":24},"generated":{"line":1,"column":1424}},{"source":"src/AudioManager.js","name":"songBPM","original":{"line":57,"column":37},"generated":{"line":1,"column":1426}},{"source":"src/AudioManager.js","name":"bpm","original":{"line":57,"column":47},"generated":{"line":1,"column":1434}},{"source":"src/AudioManager.js","name":"catch","original":{"line":59,"column":21},"generated":{"line":1,"column":1438}},{"source":"src/AudioManager.js","original":{"line":59,"column":28},"generated":{"line":1,"column":1444}},{"source":"src/AudioManager.js","name":"err","original":{"line":59,"column":30},"generated":{"line":1,"column":1453}},{"source":"src/AudioManager.js","name":"console","original":{"line":62,"column":24},"generated":{"line":1,"column":1456}},{"source":"src/AudioManager.js","name":"log","original":{"line":62,"column":32},"generated":{"line":1,"column":1464}},{"source":"src/AudioManager.js","original":{"line":62,"column":37},"generated":{"line":1,"column":1468}},{"source":"src/AudioManager.js","original":{"line":64,"column":15},"generated":{"line":1,"column":1494}},{"source":"src/AudioManager.js","name":"e","original":{"line":64,"column":25},"generated":{"line":1,"column":1503}},{"source":"src/AudioManager.js","name":"e","original":{"line":64,"column":66},"generated":{"line":1,"column":1506}},{"source":"src/AudioManager.js","name":"err","original":{"line":64,"column":68},"generated":{"line":1,"column":1508}},{"source":"src/AudioManager.js","name":"freader","original":{"line":66,"column":8},"generated":{"line":1,"column":1515}},{"source":"src/AudioManager.js","name":"readAsArrayBuffer","original":{"line":66,"column":16},"generated":{"line":1,"column":1517}},{"source":"src/AudioManager.js","name":"file","original":{"line":66,"column":35},"generated":{"line":1,"column":1535}},{"source":"src/AudioManager.js","name":"texttochange","original":{"line":67,"column":14},"generated":{"line":1,"column":1538}},{"source":"src/AudioManager.js","name":"texttochange","original":{"line":67,"column":14},"generated":{"line":1,"column":1542}},{"source":"src/AudioManager.js","name":"document","original":{"line":67,"column":29},"generated":{"line":1,"column":1544}},{"source":"src/AudioManager.js","name":"querySelector","original":{"line":67,"column":38},"generated":{"line":1,"column":1553}},{"source":"src/AudioManager.js","original":{"line":67,"column":53},"generated":{"line":1,"column":1567}},{"source":"src/AudioManager.js","name":"texttochange","original":{"line":68,"column":8},"generated":{"line":1,"column":1575}},{"source":"src/AudioManager.js","name":"innerHTML","original":{"line":68,"column":21},"generated":{"line":1,"column":1577}},{"source":"src/AudioManager.js","original":{"line":68,"column":33},"generated":{"line":1,"column":1587}},{"source":"src/AudioManager.js","name":"document","original":{"line":69,"column":26},"generated":{"line":1,"column":1616}},{"source":"src/AudioManager.js","name":"querySelector","original":{"line":69,"column":35},"generated":{"line":1,"column":1625}},{"source":"src/AudioManager.js","original":{"line":69,"column":50},"generated":{"line":1,"column":1639}},{"source":"src/AudioManager.js","name":"style","original":{"line":70,"column":18},"generated":{"line":1,"column":1651}},{"source":"src/AudioManager.js","name":"visibility","original":{"line":70,"column":24},"generated":{"line":1,"column":1657}},{"source":"src/AudioManager.js","original":{"line":70,"column":37},"generated":{"line":1,"column":1668}},{"source":"src/AudioManager.js","name":"texttochange","original":{"line":71,"column":8},"generated":{"line":1,"column":1677}},{"source":"src/AudioManager.js","name":"style","original":{"line":71,"column":21},"generated":{"line":1,"column":1679}},{"source":"src/AudioManager.js","name":"top","original":{"line":71,"column":27},"generated":{"line":1,"column":1685}},{"source":"src/AudioManager.js","original":{"line":71,"column":33},"generated":{"line":1,"column":1689}},{"source":"src/AudioManager.js","name":"playFile","original":{"line":32,"column":8},"generated":{"line":1,"column":1697}},{"source":"src/AudioManager.js","name":"evt","original":{"line":31,"column":20},"generated":{"line":1,"column":1698}},{"source":"src/AudioManager.js","name":"target","original":{"line":31,"column":24},"generated":{"line":1,"column":1700}},{"source":"src/AudioManager.js","name":"files","original":{"line":31,"column":31},"generated":{"line":1,"column":1707}},{"source":"src/AudioManager.js","original":{"line":32,"column":25},"generated":{"line":1,"column":1713}},{"source":"src/AudioManager.js","original":{"line":74,"column":87},"generated":{"line":1,"column":1719}},{"source":"src/AudioManager.js","name":"AUDIOSOBJECT","original":{"line":75,"column":11},"generated":{"line":1,"column":1722}}],"sources":{"src/AudioManager.js":"import { analyze } from 'web-audio-beat-detector';\r\nexport default function AudioManager( )\r\n{\r\n    const AUDIOSOBJECT = {\r\n        paused: false,\r\n        audioStartOffset: 0,\r\n        audioStartTime: 0,\r\n        audioBuffer: undefined,\r\n        cameraPaused: false,\r\n        automaticSwitchingOn: true,\r\n        songBPM: null,\r\n        audioBuffer: null,\r\n        audioAnalyser: null,\r\n        audioContext: null,\r\n        audioSourceBuffer: null,\r\n        songBPM: null,\r\n        fftSize: null,\r\n        smoothingTimeCnstant: null,\r\n    };\r\n\r\n    AUDIOSOBJECT.audioContext = new( window.AudioContext || window.webkitAudioContext )( );\r\n    AUDIOSOBJECT.audioAnalyser = AUDIOSOBJECT.audioContext.createAnalyser( );\r\n    AUDIOSOBJECT.smoothingTimeCnstant = .3;\r\n    AUDIOSOBJECT.fftSize = 1024;\r\n    AUDIOSOBJECT.audioSourceBuffer = AUDIOSOBJECT.audioContext.createBufferSource( );\r\n    AUDIOSOBJECT.audioSourceBuffer.connect( AUDIOSOBJECT.audioAnalyser );\r\n    AUDIOSOBJECT.audioAnalyser.connect( AUDIOSOBJECT.audioContext.destination );\r\n\r\n    function handleFileSelect( evt )\r\n    {\r\n        let files = evt.target.files\r\n        playFile( files[ 0 ] )\r\n    }\r\n\r\n    function playFile( file )\r\n    {\r\n        var freader = new FileReader( );\r\n        AUDIOSOBJECT.audioSourceBuffer = AUDIOSOBJECT.audioContext.createBufferSource( );\r\n        // connect source and analyser\r\n        AUDIOSOBJECT.audioSourceBuffer.connect( AUDIOSOBJECT.audioAnalyser );\r\n        AUDIOSOBJECT.audioAnalyser.connect( AUDIOSOBJECT.audioContext.destination );\r\n\r\n        freader.onload = function( e )\r\n        {\r\n            const fileResult = e.target.result;\r\n            console.log( fileResult );\r\n            AUDIOSOBJECT.audioContext.decodeAudioData( fileResult, function( buffer )\r\n            {\r\n                AUDIOSOBJECT.audioSourceBuffer.buffer = buffer;\r\n                AUDIOSOBJECT.audioBuffer = buffer;\r\n                AUDIOSOBJECT.audioSourceBuffer.start( );\r\n                AUDIOSOBJECT.audioSourceBuffer.loop = true;\r\n                console.log( AUDIOSOBJECT )\r\n                analyze( AUDIOSOBJECT.audioSourceBuffer.buffer ).then( ( bpm ) =>\r\n                    {\r\n                        // the bpm could be analyzed \r\n                        AUDIOSOBJECT.songBPM = bpm;\r\n                    } )\r\n                    .catch( ( err ) =>\r\n                    {\r\n                        // something went wrong \r\n                        console.log( \"couldn't detect BPM\" );\r\n                    } );\r\n            }, function( e ) { \"Error with decoding audio data\" + e.err; } );\r\n        };\r\n        freader.readAsArrayBuffer( file );\r\n        const texttochange = document.querySelector( '#top' );\r\n        texttochange.innerHTML = 'Press H for even more fun!'\r\n        const fileinput = document.querySelector( '#filemp3' )\r\n        fileinput.style.visibility = \"hidden\";\r\n        texttochange.style.top = \"96.5%\"\r\n    }\r\n\r\n    document.getElementById( 'filemp3' ).addEventListener( 'change', handleFileSelect, false );\r\n    return AUDIOSOBJECT;\r\n}"},"lineCount":null}},"error":null,"hash":"1c7180986c89cbab5827faef06421f43","cacheData":{"env":{}}}