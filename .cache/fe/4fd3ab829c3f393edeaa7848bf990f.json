{"id":"yvfX","dependencies":[{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\standardized-audio-context\\build\\es2019\\factories\\offline-audio-context-constructor.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\standardized-audio-context\\src\\factories\\offline-audio-context-constructor.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\package.json","includedInParent":true,"mtime":1624398373526},{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\standardized-audio-context\\package.json","includedInParent":true,"mtime":499162500000},{"name":"../helpers/deactivate-audio-graph","loc":{"line":1,"column":37},"parent":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\standardized-audio-context\\build\\es2019\\factories\\offline-audio-context-constructor.js","resolved":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\standardized-audio-context\\build\\es2019\\helpers\\deactivate-audio-graph.js"},{"name":"../helpers/test-promise-support","loc":{"line":2,"column":35},"parent":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\standardized-audio-context\\build\\es2019\\factories\\offline-audio-context-constructor.js","resolved":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\standardized-audio-context\\build\\es2019\\helpers\\test-promise-support.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createOfflineAudioContextConstructor=void 0;var t=require(\"../helpers/deactivate-audio-graph\"),e=require(\"../helpers/test-promise-support\");const i={numberOfChannels:1},n=(n,s,r,o,a)=>(class extends n{constructor(t,n,r){let a;if(\"number\"==typeof t&&void 0!==n&&void 0!==r)a={length:n,numberOfChannels:t,sampleRate:r};else{if(\"object\"!=typeof t)throw new Error(\"The given parameters are not valid.\");a=t}const{length:h,numberOfChannels:l,sampleRate:u}={...i,...a},d=o(l,h,u);s(e.testPromiseSupport,()=>(0,e.testPromiseSupport)(d))||d.addEventListener(\"statechange\",(()=>{let t=0;const e=i=>{\"running\"===this._state&&(t>0?(d.removeEventListener(\"statechange\",e),i.stopImmediatePropagation(),this._waitForThePromiseToSettle(i)):t+=1)};return e})()),super(d,l),this._length=h,this._nativeOfflineAudioContext=d,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return\"running\"===this._state?Promise.reject(r()):(this._state=\"running\",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,(0,t.deactivateAudioGraph)(this)}))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout(()=>this._waitForThePromiseToSettle(t))}});exports.createOfflineAudioContextConstructor=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":0}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":13}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":20}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":35}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":43}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":56}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":57}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":64}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":68}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":76}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":118}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":120}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":124}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":126}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":134}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":171}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":173}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":181}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":216}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":6,"column":6},"generated":{"line":1,"column":222}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":6,"column":24},"generated":{"line":1,"column":224}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":7,"column":4},"generated":{"line":1,"column":225}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":7,"column":22},"generated":{"line":1,"column":242}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":245}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":92},"generated":{"line":1,"column":247}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":248}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":1,"column":250}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":252}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":1,"column":254}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":1,"column":256}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":17,"column":11},"generated":{"line":1,"column":261}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":17,"column":45},"generated":{"line":1,"column":275}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":277}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":26,"column":20},"generated":{"line":1,"column":289}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":26,"column":61},"generated":{"line":1,"column":291}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":26,"column":73},"generated":{"line":1,"column":293}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":296}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":300}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":29,"column":16},"generated":{"line":1,"column":302}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":29,"column":29},"generated":{"line":1,"column":305}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":322}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":29,"column":47},"generated":{"line":1,"column":330}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":29,"column":41},"generated":{"line":1,"column":334}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":29,"column":66},"generated":{"line":1,"column":342}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":29,"column":60},"generated":{"line":1,"column":346}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":30,"column":16},"generated":{"line":1,"column":348}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":30,"column":26},"generated":{"line":1,"column":350}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":30,"column":28},"generated":{"line":1,"column":351}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":30,"column":36},"generated":{"line":1,"column":358}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":30,"column":39},"generated":{"line":1,"column":360}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":30,"column":57},"generated":{"line":1,"column":377}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":30,"column":60},"generated":{"line":1,"column":379}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":30,"column":72},"generated":{"line":1,"column":390}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":1,"column":397}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":1,"column":398}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":31,"column":36},"generated":{"line":1,"column":401}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":1,"column":418}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":420}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":426}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":34,"column":26},"generated":{"line":1,"column":430}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":34,"column":32},"generated":{"line":1,"column":436}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":1,"column":475}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":32,"column":26},"generated":{"line":1,"column":477}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":479}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":485}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":1,"column":492}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":494}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":37,"column":28},"generated":{"line":1,"column":511}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":513}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":37,"column":46},"generated":{"line":1,"column":524}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":37,"column":61},"generated":{"line":1,"column":527}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":37,"column":66},"generated":{"line":1,"column":531}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":37,"column":86},"generated":{"line":1,"column":536}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":39,"column":18},"generated":{"line":1,"column":539}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":39,"column":46},"generated":{"line":1,"column":541}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":39,"column":78},"generated":{"line":1,"column":543}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":39,"column":96},"generated":{"line":1,"column":545}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":39,"column":104},"generated":{"line":1,"column":547}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":42,"column":17},"generated":{"line":1,"column":550}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":42,"column":33},"generated":{"line":1,"column":552}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":42,"column":32},"generated":{"line":1,"column":554}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":42,"column":53},"generated":{"line":1,"column":573}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":42,"column":59},"generated":{"line":1,"column":578}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":42,"column":78},"generated":{"line":1,"column":580}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":42,"column":78},"generated":{"line":1,"column":582}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":42,"column":78},"generated":{"line":1,"column":602}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":43,"column":16},"generated":{"line":1,"column":607}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":43,"column":42},"generated":{"line":1,"column":609}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":44,"column":20},"generated":{"line":1,"column":626}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":1,"column":640}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":46,"column":28},"generated":{"line":1,"column":646}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":46,"column":28},"generated":{"line":1,"column":650}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":46,"column":32},"generated":{"line":1,"column":652}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":48,"column":30},"generated":{"line":1,"column":654}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":48,"column":30},"generated":{"line":1,"column":660}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":48,"column":55},"generated":{"line":1,"column":662}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":49,"column":48},"generated":{"line":1,"column":666}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":1,"column":678}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":49,"column":37},"generated":{"line":1,"column":683}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":1,"column":692}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":50,"column":40},"generated":{"line":1,"column":694}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":1,"column":697}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":51,"column":62},"generated":{"line":1,"column":699}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":51,"column":82},"generated":{"line":1,"column":719}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":51,"column":97},"generated":{"line":1,"column":733}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":52,"column":36},"generated":{"line":1,"column":736}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":52,"column":42},"generated":{"line":1,"column":738}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":54,"column":41},"generated":{"line":1,"column":765}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":54,"column":41},"generated":{"line":1,"column":770}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":54,"column":68},"generated":{"line":1,"column":797}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":56,"column":36},"generated":{"line":1,"column":801}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":56,"column":41},"generated":{"line":1,"column":804}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":61,"column":31},"generated":{"line":1,"column":808}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":61,"column":31},"generated":{"line":1,"column":815}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":1,"column":818}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":66,"column":18},"generated":{"line":1,"column":822}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":66,"column":18},"generated":{"line":1,"column":828}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":66,"column":45},"generated":{"line":1,"column":830}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":68,"column":17},"generated":{"line":1,"column":833}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":68,"column":17},"generated":{"line":1,"column":838}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":68,"column":27},"generated":{"line":1,"column":846}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":69,"column":17},"generated":{"line":1,"column":848}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":69,"column":17},"generated":{"line":1,"column":853}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":69,"column":46},"generated":{"line":1,"column":880}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":70,"column":17},"generated":{"line":1,"column":882}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":70,"column":17},"generated":{"line":1,"column":887}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":70,"column":26},"generated":{"line":1,"column":894}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":73,"column":12},"generated":{"line":1,"column":899}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":75,"column":16},"generated":{"line":1,"column":912}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":75,"column":59},"generated":{"line":1,"column":924}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":75,"column":16},"generated":{"line":1,"column":928}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":75,"column":21},"generated":{"line":1,"column":933}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":75,"column":48},"generated":{"line":1,"column":960}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":76,"column":23},"generated":{"line":1,"column":967}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":76,"column":28},"generated":{"line":1,"column":972}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":79,"column":19},"generated":{"line":1,"column":980}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":79,"column":24},"generated":{"line":1,"column":985}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":79,"column":51},"generated":{"line":1,"column":1012}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":82,"column":12},"generated":{"line":1,"column":1019}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":83,"column":19},"generated":{"line":1,"column":1031}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":83,"column":35},"generated":{"line":1,"column":1038}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":83,"column":19},"generated":{"line":1,"column":1045}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":83,"column":24},"generated":{"line":1,"column":1050}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":83,"column":42},"generated":{"line":1,"column":1057}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":83,"column":47},"generated":{"line":1,"column":1062}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":83,"column":74},"generated":{"line":1,"column":1089}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":83,"column":82},"generated":{"line":1,"column":1095}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":83,"column":87},"generated":{"line":1,"column":1100}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":1107}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":91,"column":16},"generated":{"line":1,"column":1124}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":91,"column":32},"generated":{"line":1,"column":1130}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":91,"column":16},"generated":{"line":1,"column":1142}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":91,"column":21},"generated":{"line":1,"column":1147}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":92,"column":23},"generated":{"line":1,"column":1154}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":92,"column":31},"generated":{"line":1,"column":1162}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":92,"column":38},"generated":{"line":1,"column":1169}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":95,"column":17},"generated":{"line":1,"column":1175}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":95,"column":17},"generated":{"line":1,"column":1180}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":95,"column":26},"generated":{"line":1,"column":1187}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":97,"column":19},"generated":{"line":1,"column":1197}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":97,"column":34},"generated":{"line":1,"column":1199}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":97,"column":39},"generated":{"line":1,"column":1204}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":97,"column":52},"generated":{"line":1,"column":1216}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":97,"column":57},"generated":{"line":1,"column":1221}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":97,"column":85},"generated":{"line":1,"column":1249}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":97,"column":93},"generated":{"line":1,"column":1257}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":98,"column":21},"generated":{"line":1,"column":1262}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":98,"column":21},"generated":{"line":1,"column":1267}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":98,"column":30},"generated":{"line":1,"column":1274}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":100,"column":37},"generated":{"line":1,"column":1280}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":100,"column":37},"generated":{"line":1,"column":1282}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":100,"column":37},"generated":{"line":1,"column":1284}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":100,"column":37},"generated":{"line":1,"column":1306}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":104,"column":16},"generated":{"line":1,"column":1315}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":104,"column":43},"generated":{"line":1,"column":1342}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":105,"column":32},"generated":{"line":1,"column":1345}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":105,"column":16},"generated":{"line":1,"column":1352}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":105,"column":21},"generated":{"line":1,"column":1357}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":106,"column":21},"generated":{"line":1,"column":1364}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":106,"column":21},"generated":{"line":1,"column":1369}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":106,"column":48},"generated":{"line":1,"column":1396}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":106,"column":62},"generated":{"line":1,"column":1410}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":108,"column":16},"generated":{"line":1,"column":1413}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":108,"column":27},"generated":{"line":1,"column":1424}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":1428}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":108,"column":38},"generated":{"line":1,"column":1433}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":108,"column":65},"generated":{"line":1,"column":1460}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":1467}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":1475}},{"source":"../../../src/factories/offline-audio-context-constructor.ts","name":null,"original":{"line":10,"column":7},"generated":{"line":1,"column":1512}}],"sources":{"../../../src/factories/offline-audio-context-constructor.ts":"import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { testPromiseSupport } from '../helpers/test-promise-support';\nimport { IAudioBuffer, IOfflineAudioContext, IOfflineAudioContextOptions } from '../interfaces';\nimport { TAudioContextState, TNativeOfflineAudioContext, TOfflineAudioContextConstructorFactory } from '../types';\n\nconst DEFAULT_OPTIONS = {\n    numberOfChannels: 1\n} as const;\n\nexport const createOfflineAudioContextConstructor: TOfflineAudioContextConstructorFactory = (\n    baseAudioContextConstructor,\n    cacheTestResult,\n    createInvalidStateError,\n    createNativeOfflineAudioContext,\n    startRendering\n) => {\n    return class OfflineAudioContext extends baseAudioContextConstructor<IOfflineAudioContext> implements IOfflineAudioContext {\n        private _length: number;\n\n        private _nativeOfflineAudioContext: TNativeOfflineAudioContext;\n\n        private _state: null | TAudioContextState;\n\n        constructor(options: IOfflineAudioContextOptions);\n        constructor(numberOfChannels: number, length: number, sampleRate: number);\n        constructor(a: number | IOfflineAudioContextOptions, b?: number, c?: number) {\n            let options: IOfflineAudioContextOptions;\n\n            if (typeof a === 'number' && b !== undefined && c !== undefined) {\n                options = { length: b, numberOfChannels: a, sampleRate: c };\n            } else if (typeof a === 'object') {\n                options = a;\n            } else {\n                throw new Error('The given parameters are not valid.');\n            }\n\n            const { length, numberOfChannels, sampleRate } = { ...DEFAULT_OPTIONS, ...options };\n\n            const nativeOfflineAudioContext = createNativeOfflineAudioContext(numberOfChannels, length, sampleRate);\n\n            // #21 Safari does not support promises and therefore would fire the statechange event before the promise can be resolved.\n            if (!cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n                nativeOfflineAudioContext.addEventListener(\n                    'statechange',\n                    (() => {\n                        let i = 0;\n\n                        const delayStateChangeEvent = (event: Event) => {\n                            if (this._state === 'running') {\n                                if (i > 0) {\n                                    nativeOfflineAudioContext.removeEventListener('statechange', delayStateChangeEvent);\n                                    event.stopImmediatePropagation();\n\n                                    this._waitForThePromiseToSettle(event);\n                                } else {\n                                    i += 1;\n                                }\n                            }\n                        };\n\n                        return delayStateChangeEvent;\n                    })()\n                );\n            }\n\n            super(nativeOfflineAudioContext, numberOfChannels);\n\n            this._length = length;\n            this._nativeOfflineAudioContext = nativeOfflineAudioContext;\n            this._state = null;\n        }\n\n        get length(): number {\n            // Bug #17: Safari does not yet expose the length.\n            if (this._nativeOfflineAudioContext.length === undefined) {\n                return this._length;\n            }\n\n            return this._nativeOfflineAudioContext.length;\n        }\n\n        get state(): TAudioContextState {\n            return this._state === null ? this._nativeOfflineAudioContext.state : this._state;\n        }\n\n        public startRendering(): Promise<IAudioBuffer> {\n            /*\n             * Bug #9 & #59: It is theoretically possible that startRendering() will first render a partialOfflineAudioContext. Therefore\n             * the state of the nativeOfflineAudioContext might no transition to running immediately.\n             */\n            if (this._state === 'running') {\n                return Promise.reject(createInvalidStateError());\n            }\n\n            this._state = 'running';\n\n            return startRendering(this.destination, this._nativeOfflineAudioContext).finally(() => {\n                this._state = null;\n\n                deactivateAudioGraph(this);\n            });\n        }\n\n        private _waitForThePromiseToSettle(event: Event): void {\n            if (this._state === null) {\n                this._nativeOfflineAudioContext.dispatchEvent(event);\n            } else {\n                setTimeout(() => this._waitForThePromiseToSettle(event));\n            }\n        }\n    };\n};\n"},"lineCount":null}},"error":null,"hash":"45bb7af4ff9507c584f7cb90051ba194","cacheData":{"env":{}}}