{"id":"node_modules/web-audio-beat-detector/build/es2019/worker/worker.js","dependencies":[{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\web-audio-beat-detector\\build\\es2019\\worker\\worker.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\web-audio-beat-detector\\src\\worker\\worker.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\package.json","includedInParent":true,"mtime":1624327498692},{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\web-audio-beat-detector\\package.json","includedInParent":true,"mtime":499162500000}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.worker = void 0;\n// This is the minified and stringified code of the web-audio-beat-detector-worker package.\nconst worker = `(()=>{\"use strict\";const e=(e,t,s)=>{const o=e.length,n=[];let a=!1;for(let r=0;r<o;r+=1)e[r]>t?a=!0:a&&(a=!1,n.push(r-1),r+=s/4-1);return a&&n.push(o-1),n},t=(t,s,o)=>{const n=(e=>{let t=0;const s=e.length;for(let o=0;o<s;o+=1)e[o]>t&&(t=e[o]);return t})(t),a=.3*n;let r=[],l=n-.05*n;if(n>.25)for(;r.length<30&&l>=a;)r=e(t,l,s),l-=.05*n;const p=((e,t,s={})=>{var o,n;const a=Math.max(0,null!==(o=s.minTempo)&&void 0!==o?o:90),r=Math.max(0,null!==(n=s.maxTempo)&&void 0!==n?n:180),l=[];return e.forEach((e=>{let s=60/(e.interval/t);for(;s<a;)s*=2;for(;s>r;)s/=2;let o=!1,n=e.peaks.length;l.forEach((t=>{if(t.tempo===s&&(t.score+=e.peaks.length,t.peaks=[...t.peaks,...e.peaks],o=!0),t.tempo>s-.5&&t.tempo<s+.5){const o=2*Math.abs(t.tempo-s);n+=(1-o)*t.peaks.length,t.score+=(1-o)*e.peaks.length}})),o||l.push({peaks:e.peaks,score:n,tempo:s})})),l})((e=>{const t=[];return e.forEach(((s,o)=>{const n=Math.min(e.length-o,10);for(let a=1;a<n;a+=1){const n=e[o+a]-s;t.some((e=>e.interval===n&&(e.peaks.push(s),!0)))||t.push({interval:n,peaks:[s]})}})),t})(r),s,o);return p.sort(((e,t)=>t.score-e.score)),p};addEventListener(\"message\",(({data:e})=>{try{if(\"analyze\"===e.method){const{id:s,params:{channelData:o,sampleRate:n,tempoSettings:a}}=e,r=((e,s,o)=>{const n=t(e,s,o);if(0===n.length)throw new Error(\"The given channelData does not contain any detectable beats.\");return n[0].tempo})(o,n,a);postMessage({error:null,id:s,result:{tempo:r}})}else{if(\"guess\"!==e.method)throw new Error('The given method \"'.concat(e.method,'\" is not supported'));{const{id:s,params:{channelData:o,sampleRate:n,tempoSettings:a}}=e,{bpm:r,offset:l,tempo:p}=((e,s,o)=>{const n=t(e,s,o);if(0===n.length)throw new Error(\"The given channelData does not contain any detectable beats.\");const{peaks:a,tempo:r}=n[0],l=Math.round(r),p=60/l;a.sort(((e,t)=>e-t));let h=a[0]/s;for(;h>p;)h-=p;return{bpm:l,offset:h,tempo:r}})(o,n,a);postMessage({error:null,id:s,result:{bpm:r,offset:l,tempo:p}})}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}}))})();`; // tslint:disable-line:max-line-length\n\nexports.worker = worker;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/worker/worker.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../src/worker/worker.ts","name":null,"original":{"line":2,"column":7},"generated":{"line":8,"column":0}},{"source":"../../../src/worker/worker.ts","name":null,"original":{"line":2,"column":13},"generated":{"line":8,"column":6}},{"source":"../../../src/worker/worker.ts","name":null,"original":{"line":2,"column":19},"generated":{"line":8,"column":12}},{"source":"../../../src/worker/worker.ts","name":null,"original":{"line":2,"column":22},"generated":{"line":8,"column":15}},{"source":"../../../src/worker/worker.ts","name":null,"original":{"line":2,"column":7},"generated":{"line":8,"column":2058}},{"source":"../../../src/worker/worker.ts","name":null,"original":{"line":2,"column":2067},"generated":{"line":8,"column":2060}}],"sources":{"../../../src/worker/worker.ts":"// This is the minified and stringified code of the web-audio-beat-detector-worker package.\nexport const worker = `(()=>{\"use strict\";const e=(e,t,s)=>{const o=e.length,n=[];let a=!1;for(let r=0;r<o;r+=1)e[r]>t?a=!0:a&&(a=!1,n.push(r-1),r+=s/4-1);return a&&n.push(o-1),n},t=(t,s,o)=>{const n=(e=>{let t=0;const s=e.length;for(let o=0;o<s;o+=1)e[o]>t&&(t=e[o]);return t})(t),a=.3*n;let r=[],l=n-.05*n;if(n>.25)for(;r.length<30&&l>=a;)r=e(t,l,s),l-=.05*n;const p=((e,t,s={})=>{var o,n;const a=Math.max(0,null!==(o=s.minTempo)&&void 0!==o?o:90),r=Math.max(0,null!==(n=s.maxTempo)&&void 0!==n?n:180),l=[];return e.forEach((e=>{let s=60/(e.interval/t);for(;s<a;)s*=2;for(;s>r;)s/=2;let o=!1,n=e.peaks.length;l.forEach((t=>{if(t.tempo===s&&(t.score+=e.peaks.length,t.peaks=[...t.peaks,...e.peaks],o=!0),t.tempo>s-.5&&t.tempo<s+.5){const o=2*Math.abs(t.tempo-s);n+=(1-o)*t.peaks.length,t.score+=(1-o)*e.peaks.length}})),o||l.push({peaks:e.peaks,score:n,tempo:s})})),l})((e=>{const t=[];return e.forEach(((s,o)=>{const n=Math.min(e.length-o,10);for(let a=1;a<n;a+=1){const n=e[o+a]-s;t.some((e=>e.interval===n&&(e.peaks.push(s),!0)))||t.push({interval:n,peaks:[s]})}})),t})(r),s,o);return p.sort(((e,t)=>t.score-e.score)),p};addEventListener(\"message\",(({data:e})=>{try{if(\"analyze\"===e.method){const{id:s,params:{channelData:o,sampleRate:n,tempoSettings:a}}=e,r=((e,s,o)=>{const n=t(e,s,o);if(0===n.length)throw new Error(\"The given channelData does not contain any detectable beats.\");return n[0].tempo})(o,n,a);postMessage({error:null,id:s,result:{tempo:r}})}else{if(\"guess\"!==e.method)throw new Error('The given method \"'.concat(e.method,'\" is not supported'));{const{id:s,params:{channelData:o,sampleRate:n,tempoSettings:a}}=e,{bpm:r,offset:l,tempo:p}=((e,s,o)=>{const n=t(e,s,o);if(0===n.length)throw new Error(\"The given channelData does not contain any detectable beats.\");const{peaks:a,tempo:r}=n[0],l=Math.round(r),p=60/l;a.sort(((e,t)=>e-t));let h=a[0]/s;for(;h>p;)h-=p;return{bpm:l,offset:h,tempo:r}})(o,n,a);postMessage({error:null,id:s,result:{bpm:r,offset:l,tempo:p}})}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}}))})();`; // tslint:disable-line:max-line-length\n"},"lineCount":null}},"error":null,"hash":"4f35ec09deb548408e5f8fb91e821a13","cacheData":{"env":{}}}