{"id":"ob8K","dependencies":[{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\standardized-audio-context\\build\\es2019\\factories\\native-media-stream-audio-source-node.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\standardized-audio-context\\src\\factories\\native-media-stream-audio-source-node.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\package.json","includedInParent":true,"mtime":1624398373526},{"name":"C:\\Users\\Diego\\Downloads\\Documents\\three js\\AbsurbPlace\\node_modules\\standardized-audio-context\\package.json","includedInParent":true,"mtime":499162500000}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createNativeMediaStreamAudioSourceNode=void 0;const e=(e,{mediaStream:t})=>{const r=t.getAudioTracks();r.sort((e,t)=>e.id<t.id?-1:e.id>t.id?1:0);const a=r.slice(0,1),i=e.createMediaStreamSource(new MediaStream(a));return Object.defineProperty(i,\"mediaStream\",{value:t}),i};exports.createNativeMediaStreamAudioSourceNode=e;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":0}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":13}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":20}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":35}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":43}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":56}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":57}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":64}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":68}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":76}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":120}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":122}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":128}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":96},"generated":{"line":1,"column":130}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":97},"generated":{"line":1,"column":131}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":119},"generated":{"line":1,"column":134}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":119},"generated":{"line":1,"column":146}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":4,"column":10},"generated":{"line":1,"column":152}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":4,"column":10},"generated":{"line":1,"column":158}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":4,"column":30},"generated":{"line":1,"column":160}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":4,"column":42},"generated":{"line":1,"column":162}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":4},"generated":{"line":1,"column":179}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":22},"generated":{"line":1,"column":181}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":27},"generated":{"line":1,"column":186}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":28},"generated":{"line":1,"column":187}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":31},"generated":{"line":1,"column":189}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":38},"generated":{"line":1,"column":193}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":40},"generated":{"line":1,"column":195}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":45},"generated":{"line":1,"column":198}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":47},"generated":{"line":1,"column":200}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":53},"generated":{"line":1,"column":204}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":57},"generated":{"line":1,"column":206}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":59},"generated":{"line":1,"column":208}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":64},"generated":{"line":1,"column":211}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":66},"generated":{"line":1,"column":213}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":71},"generated":{"line":1,"column":216}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":9,"column":75},"generated":{"line":1,"column":218}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":11,"column":10},"generated":{"line":1,"column":221}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":11,"column":10},"generated":{"line":1,"column":227}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":11,"column":38},"generated":{"line":1,"column":229}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":11,"column":56},"generated":{"line":1,"column":231}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":11,"column":62},"generated":{"line":1,"column":237}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":11,"column":65},"generated":{"line":1,"column":239}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":13,"column":10},"generated":{"line":1,"column":242}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":13,"column":45},"generated":{"line":1,"column":244}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":13,"column":64},"generated":{"line":1,"column":246}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":13,"column":88},"generated":{"line":1,"column":270}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":13,"column":92},"generated":{"line":1,"column":274}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":13,"column":104},"generated":{"line":1,"column":286}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":1,"column":290}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":297}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":19,"column":11},"generated":{"line":1,"column":304}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":19,"column":26},"generated":{"line":1,"column":319}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":19,"column":60},"generated":{"line":1,"column":321}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":19,"column":75},"generated":{"line":1,"column":335}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":19,"column":77},"generated":{"line":1,"column":336}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":19,"column":84},"generated":{"line":1,"column":342}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":1,"column":346}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":349}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":357}},{"source":"../../../src/factories/native-media-stream-audio-source-node.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":1,"column":396}}],"sources":{"../../../src/factories/native-media-stream-audio-source-node.ts":"import { TNativeMediaStreamAudioSourceNodeFactory } from '../types';\n\nexport const createNativeMediaStreamAudioSourceNode: TNativeMediaStreamAudioSourceNodeFactory = (nativeAudioContext, { mediaStream }) => {\n    const audioStreamTracks = mediaStream.getAudioTracks();\n    /*\n     * Bug #151: Safari does not use the audio track as input anymore if it gets removed from the mediaStream after construction.\n     * Bug #159: Safari picks the first audio track if the MediaStream has more than one audio track.\n     */\n    audioStreamTracks.sort((a, b) => (a.id < b.id ? -1 : a.id > b.id ? 1 : 0));\n\n    const filteredAudioStreamTracks = audioStreamTracks.slice(0, 1);\n\n    const nativeMediaStreamAudioSourceNode = nativeAudioContext.createMediaStreamSource(new MediaStream(filteredAudioStreamTracks));\n\n    /*\n     * Bug #151 & #159: The given mediaStream gets reconstructed before it gets passed to the native node which is why the accessor needs\n     * to be overwritten as it would otherwise expose the reconstructed version.\n     */\n    Object.defineProperty(nativeMediaStreamAudioSourceNode, 'mediaStream', { value: mediaStream });\n\n    return nativeMediaStreamAudioSourceNode;\n};\n"},"lineCount":null}},"error":null,"hash":"20b2e99b920c13f0c504bb42c912a0ff","cacheData":{"env":{}}}